:root{
  --bg:#06060b;
  --ink:#eaf6ff;
  --neon:#15f4ff;
  --neon2:#ff2bd6;
  --neon3:#a6ff4d;
  --panel: rgba(10, 10, 18, 0.78);
  --line: rgba(255,255,255,0.10);
}

*{ box-sizing:border-box; }

html, body{
  height:100%;
  margin:0;
  overflow:hidden;
  overscroll-behavior:none;
  touch-action:none;
  -webkit-user-select:none;
  user-select:none;
  background:radial-gradient(1200px 700px at 50% 30%, #101033 0%, var(--bg) 60%);
  color:var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* Helps iOS Safari avoid rubber-banding */
body{
  position:fixed;
  width:100%;
}

#game{
  display:block;
  width:100vw;
  height:100vh;
  touch-action:none;
}

#touchUI, #stickBase, #shootBtn{ touch-action:none; }

#uiTop{
  position:fixed;
  top:0; left:0; right:0;
  display:flex;
  gap:12px;
  align-items:center;
  padding: calc(10px + env(safe-area-inset-top)) 12px 10px;
  background:linear-gradient(to bottom, rgba(6,6,11,0.88), rgba(6,6,11,0.30));
  border-bottom:1px solid var(--line);
  backdrop-filter: blur(8px);
  z-index:5;
  pointer-events:auto;
}

.brand{
  font-weight:800;
  letter-spacing:0.12em;
  text-shadow: 0 0 12px rgba(21,244,255,0.5);
  color:var(--neon);
}

.stats{
  display:flex;
  gap:10px;
  flex:1;
  justify-content:center;
  font-variant-numeric: tabular-nums;
  opacity:0.95;
}

.stats span{
  padding:4px 8px;
  border:1px solid var(--line);
  border-radius:999px;
  background: rgba(0,0,0,0.20);
  box-shadow: 0 0 16px rgba(21,244,255,0.08);
}

.btn{
  border:none;
  border-radius:14px;
  padding:12px 16px;
  font-weight:700;
  letter-spacing:0.06em;
  color:#001014;
  background: linear-gradient(135deg, var(--neon), var(--neon2));
  box-shadow:
    0 0 18px rgba(21,244,255,0.22),
    0 0 24px rgba(255,43,214,0.16);
  cursor:pointer;
}
.btn:active{ transform: translateY(1px); }

.btn.ghost{
  color:var(--ink);
  background: rgba(0,0,0,0.25);
  border:1px solid rgba(21,244,255,0.35);
  box-shadow: 0 0 18px rgba(21,244,255,0.10);
}

.btn.small{
  padding:8px 10px;
  border-radius:12px;
  min-width:44px;
}

.overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: radial-gradient(900px 500px at 50% 40%, rgba(21,244,255,0.08), rgba(0,0,0,0.70));
  z-index:10;
  pointer-events:auto;
}

.panel{
  width:min(520px, 92vw);
  border-radius:22px;
  padding:18px 18px 14px;
  background: var(--panel);
  border:1px solid rgba(21,244,255,0.25);
  box-shadow:
    0 0 30px rgba(21,244,255,0.12),
    0 0 70px rgba(255,43,214,0.08);
}

.panel.wide{ width:min(920px, 94vw); }

h1,h2{
  margin:0 0 6px;
  letter-spacing:0.10em;
  text-transform:uppercase;
  color:var(--neon);
  text-shadow: 0 0 14px rgba(21,244,255,0.45);
}

.sub{ margin:6px 0 14px; opacity:0.92; line-height:1.35; }
.tiny{ margin:10px 0 0; opacity:0.72; font-size:12px; }

.row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
.hidden{ display:none !important; }

.controlHint{
  border:1px solid var(--line);
  border-radius:16px;
  padding:10px 12px;
  background: rgba(0,0,0,0.20);
  margin-bottom:12px;
  box-shadow: 0 0 18px rgba(21,244,255,0.10);
}

.how{
  margin-top:10px;
  border-top:1px solid var(--line);
  padding-top:10px;
}
.how ul{ margin:0; padding-left:18px; line-height:1.5; }

.statLine{
  border:1px solid var(--line);
  border-radius:16px;
  padding:10px 12px;
  background: rgba(0,0,0,0.20);
  box-shadow: 0 0 18px rgba(21,244,255,0.10);
  margin-bottom:12px;
  font-size:13px;
  line-height:1.35;
  opacity:0.95;
}
.statLine b{ color: var(--neon3); }

/* Mobile controls overlay */
#touchUI{
  position:fixed;
  left:0; right:0; bottom:0;
  height:38vh;
  min-height:230px;
  padding-bottom: env(safe-area-inset-bottom);
  pointer-events:none;
  z-index:6;
}

#stickBase{
  position:absolute;
  left:18px;
  bottom:18px;
  width:150px;
  height:150px;
  border-radius:50%;
  border:1px solid rgba(21,244,255,0.35);
  background: rgba(0,0,0,0.20);
  box-shadow: 0 0 24px rgba(21,244,255,0.14);
  pointer-events:auto;
}

#stickKnob{
  position:absolute;
  left:50%; top:50%;
  width:62px; height:62px;
  margin-left:-31px; margin-top:-31px;
  border-radius:50%;
  background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.22), rgba(21,244,255,0.16));
  border:1px solid rgba(255,43,214,0.35);
  box-shadow: 0 0 18px rgba(255,43,214,0.18);
  transform: translate(0px, 0px);
}

.btn.shoot{
  position:absolute;
  right:18px;
  bottom:24px;
  width:140px;
  height:74px;
  border-radius:22px;
  pointer-events:auto;
}

#touchUI .hint{
  position:absolute;
  left:18px;
  right:18px;
  bottom:190px;
  text-align:center;
  opacity:0.75;
  font-size:12px;
  pointer-events:none;
}

.upgradeGrid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap:12px;
}
@media (max-width: 760px){
  .upgradeGrid{ grid-template-columns: 1fr; }
}

.upCard{
  border-radius:18px;
  padding:12px;
  background: rgba(0,0,0,0.22);
  border:1px solid rgba(21,244,255,0.22);
  box-shadow: 0 0 18px rgba(21,244,255,0.10);
}

.upCard h3{
  margin:0 0 6px;
  font-size:14px;
  letter-spacing:0.08em;
  text-transform:uppercase;
  color: var(--neon3);
}
.upCard p{ margin:0 0 10px; opacity:0.9; font-size:13px; line-height:1.35; }
.upMeta{ font-size:12px; opacity:0.85; margin-bottom:10px; }
